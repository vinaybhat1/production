{"version":3,"sources":["services/fakeGenreService.js","services/fakeMovieService.js","compontents/common/like.jsx","compontents/common/tableHeader.jsx","compontents/common/tableBody.jsx","compontents/common/table.jsx","compontents/moviesTable.jsx","compontents/common/pagination.jsx","utils/paginate.js","compontents/common/listGroup.jsx","compontents/searchBox.jsx","compontents/movies.jsx","compontents/rentals.jsx","compontents/customers.jsx","compontents/notFound.jsx","compontents/navBar.jsx","compontents/common/input.jsx","compontents/common/select.jsx","compontents/common/form.jsx","compontents/movieForm.jsx","compontents/loginForm.jsx","compontents/register.jsx","App.js","reportWebVitals.js","index.js"],"names":["genres","_id","name","getGenres","filter","g","movies","title","genre","numberInStock","dailyRentalRate","publishDate","getMovies","saveMovie","movie","movieInDb","find","m","genresAPI","genreId","Date","now","toString","push","Like","classes","this","props","liked","onClick","style","cursor","className","aria-hidden","Component","TableHeader","raiseSort","path","sortColumn","order","onSort","renderSortIcon","column","columns","map","label","key","TableBody","renderCell","item","content","_","get","createKey","data","Table","MoviesTable","to","onLike","onDelete","Pagination","itemsCount","currentPage","pageSize","onPageChange","pagesCount","Math","ceil","pages","range","page","paginate","items","pageNumber","console","log","startIndex","slice","take","value","ListGroup","valueProperty","textProperty","onItemSelect","selectedItem","defaultProps","SearchBox","onChange","type","placeholder","e","currentTarget","Movies","state","searchQuery","selectedGenre","handleLike","index","indexOf","setState","handleDelete","handlePageChange","handleGenreSelect","handleSort","getPageData","allMovies","filtered","toLowerCase","startsWith","orderBy","totalCount","length","handleSearch","query","count","marginBottom","Rentals","Customers","NotFound","NavBar","data-bs-toggle","data-bs-target","aria-controls","aria-expanded","aria-label","id","aria-current","Input","error","rest","htmlFor","Select","options","option","Form","errors","validateProperty","obj","schema","Joi","validate","details","message","abortEarly","handleSubmit","preventDefault","doSubmit","handleChange","input","errorMessage","disabled","MovieForm","string","required","number","min","max","history","movieId","match","params","replace","mapToViewModel","onSubmit","renderInput","renderSelect","renderButton","LoginForm","username","password","Register","email","App","Fragment","component","from","exact","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","process","REACT_APP_NAME","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.17515d18.chunk.js","sourcesContent":["export const genres = [\n  { _id: \"5b21ca3eeb7f6fbccd471818\", name: \"Action\" },\n  { _id: \"5b21ca3eeb7f6fbccd471814\", name: \"Comedy\" },\n  { _id: \"5b21ca3eeb7f6fbccd471820\", name: \"Thriller\" }\n];\n\nexport function getGenres() {\n  return genres.filter(g => g);\n}\n","import * as genresAPI from \"./fakeGenreService\";\n\nconst movies = [\n  {\n    _id: \"5b21ca3eeb7f6fbccd471815\",\n    title: \"Terminator\",\n    genre: { _id: \"5b21ca3eeb7f6fbccd471818\", name: \"Action\" },\n    numberInStock: 6,\n    dailyRentalRate: 2.5,\n    publishDate: \"2018-01-03T19:04:28.809Z\",\n  },\n  {\n    _id: \"5b21ca3eeb7f6fbccd471816\",\n    title: \"Die Hard\",\n    genre: { _id: \"5b21ca3eeb7f6fbccd471818\", name: \"Action\" },\n    numberInStock: 5,\n    dailyRentalRate: 2.5,\n  },\n  {\n    _id: \"5b21ca3eeb7f6fbccd471817\",\n    title: \"Get Out\",\n    genre: { _id: \"5b21ca3eeb7f6fbccd471820\", name: \"Thriller\" },\n    numberInStock: 8,\n    dailyRentalRate: 3.5,\n  },\n  {\n    _id: \"5b21ca3eeb7f6fbccd471819\",\n    title: \"Trip to Italy\",\n    genre: { _id: \"5b21ca3eeb7f6fbccd471814\", name: \"Comedy\" },\n    numberInStock: 7,\n    dailyRentalRate: 3.5,\n  },\n  {\n    _id: \"5b21ca3eeb7f6fbccd47181a\",\n    title: \"Airplane\",\n    genre: { _id: \"5b21ca3eeb7f6fbccd471814\", name: \"Comedy\" },\n    numberInStock: 7,\n    dailyRentalRate: 3.5,\n  },\n  {\n    _id: \"5b21ca3eeb7f6fbccd47181b\",\n    title: \"Wedding Crashers\",\n    genre: { _id: \"5b21ca3eeb7f6fbccd471814\", name: \"Comedy\" },\n    numberInStock: 7,\n    dailyRentalRate: 3.5,\n  },\n  {\n    _id: \"5b21ca3eeb7f6fbccd47181e\",\n    title: \"Gone Girl\",\n    genre: { _id: \"5b21ca3eeb7f6fbccd471820\", name: \"Thriller\" },\n    numberInStock: 7,\n    dailyRentalRate: 4.5,\n  },\n  {\n    _id: \"5b21ca3eeb7f6fbccd47181f\",\n    title: \"The Sixth Sense\",\n    genre: { _id: \"5b21ca3eeb7f6fbccd471820\", name: \"Thriller\" },\n    numberInStock: 4,\n    dailyRentalRate: 3.5,\n  },\n  {\n    _id: \"5b21ca3eeb7f6fbccd471821\",\n    title: \"The Avengers\",\n    genre: { _id: \"5b21ca3eeb7f6fbccd471818\", name: \"Action\" },\n    numberInStock: 7,\n    dailyRentalRate: 3.5,\n  },\n];\n\nexport function getMovies() {\n  return movies;\n}\n\nexport function getMovie(id) {\n  return movies.find((m) => m._id === id);\n}\n\nexport function saveMovie(movie) {\n  let movieInDb = movies.find((m) => m._id === movie._id) || {};\n  movieInDb.title = movie.title;\n  movieInDb.genre = genresAPI.genres.find((g) => g._id === movie.genreId);\n  movieInDb.numberInStock = movie.numberInStock;\n  movieInDb.dailyRentalRate = movie.dailyRentalRate;\n\n  if (!movieInDb._id) {\n    movieInDb._id = Date.now().toString();\n    movies.push(movieInDb);\n  }\n\n  return movieInDb;\n}\n\nexport function deleteMovie(id) {\n  let movieInDb = movies.find((m) => m._id === id);\n  movies.splice(movies.indexOf(movieInDb), 1);\n  return movieInDb;\n}\n","import React, { Component } from \"react\";\r\nclass Like extends Component {\r\n  render() {\r\n    let classes = \"fa fa-heart\";\r\n    if (!this.props.liked) classes += \"-o\";\r\n    return (\r\n      <i\r\n        onClick={this.props.onClick}\r\n        style={{ cursor: \"pointer\" }}\r\n        className={classes}\r\n        aria-hidden=\"true\"\r\n      ></i>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Like;\r\n","import React, { Component } from \"react\";\r\nclass TableHeader extends Component {\r\n  raiseSort = (path) => {\r\n    const sortColumn = { ...this.props.sortColumn };\r\n    if (sortColumn.path === path)\r\n      sortColumn.order = sortColumn.order === \"asc\" ? \"desc\" : \"asc\";\r\n    else {\r\n      sortColumn.path = path;\r\n      sortColumn.order = \"asc\";\r\n    }\r\n    this.props.onSort(sortColumn);\r\n  };\r\n\r\n  renderSortIcon = (column) => {\r\n    const { sortColumn } = this.props;\r\n    if (column.path !== sortColumn.path) return null;\r\n    if (sortColumn.order === \"asc\") return <i className=\"fa fa-sort-asc\"></i>;\r\n    return <i className=\"fa fa-sort-desc\"></i>;\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <thead>\r\n        <tr>\r\n          {this.props.columns.map((column) => (\r\n            <th\r\n              className=\"clickable\"\r\n              key={column.path || column.key}\r\n              onClick={() => this.raiseSort(column.path)}\r\n            >\r\n              {column.label}\r\n              {this.renderSortIcon(column)}\r\n            </th>\r\n          ))}\r\n        </tr>\r\n      </thead>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TableHeader;\r\n","import React, { Component } from \"react\";\r\nimport _ from \"lodash\";\r\n\r\nclass TableBody extends Component {\r\n  renderCell = (item, column) => {\r\n    if (column.content) return column.content(item);\r\n    return _.get(item, column.path);\r\n  };\r\n\r\n  createKey = (item, column) => {\r\n    return item._id + (column.path || column.key);\r\n  };\r\n\r\n  render() {\r\n    const { data, columns } = this.props;\r\n    return (\r\n      <tbody>\r\n        {data.map((item) => (\r\n          <tr key={item._id}>\r\n            {columns.map((column) => (\r\n              <td key={this.createKey(item, column)}>\r\n                {this.renderCell(item, column)}\r\n              </td>\r\n            ))}\r\n          </tr>\r\n        ))}\r\n      </tbody>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TableBody;\r\n","import React from \"react\";\r\nimport TableHeader from \"./tableHeader\";\r\nimport TableBody from \"./tableBody\";\r\n\r\nconst Table = (props) => {\r\n  const { columns, sortColumn, onSort, data } = props;\r\n  return (\r\n    <table className=\"table\">\r\n      <TableHeader columns={columns} sortColumn={sortColumn} onSort={onSort} />\r\n      <TableBody columns={columns} data={data} />\r\n    </table>\r\n  );\r\n};\r\n\r\nexport default Table;\r\n","import React, { Component } from \"react\";\r\nimport Like from \"./common/like\";\r\nimport Table from \"./common/table\";\r\nimport { Link } from \"react-router-dom\";\r\nclass MoviesTable extends Component {\r\n  columns = [\r\n    {\r\n      path: \"title\",\r\n      label: \"Title\",\r\n      content: (movie) => (\r\n        <Link to={`/movies/${movie._id}`}>{movie.title}</Link>\r\n      ),\r\n    },\r\n    { path: \"genre.name\", label: \"Genre\" },\r\n    { path: \"numberInStock\", label: \"Stock\" },\r\n    { path: \"dailyRentalRate\", label: \"Rate\" },\r\n    {\r\n      key: \"like\",\r\n      content: (movie) => (\r\n        <Like liked={movie.liked} onClick={() => this.props.onLike(movie)} />\r\n      ),\r\n    },\r\n    {\r\n      key: \"del\",\r\n      content: (movie) => (\r\n        <button\r\n          onClick={() => this.props.onDelete(movie)}\r\n          className=\"btn btn-danger btn-sm\"\r\n        >\r\n          Delete\r\n        </button>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  render() {\r\n    const { movies, onSort, sortColumn } = this.props;\r\n\r\n    return (\r\n      <Table\r\n        columns={this.columns}\r\n        data={movies}\r\n        sortColumn={sortColumn}\r\n        onSort={onSort}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default MoviesTable;\r\n","import React from \"react\";\r\nimport PropType from \"prop-types\";\r\nimport _ from \"lodash\";\r\nconst Pagination = (props) => {\r\n  const { itemsCount, currentPage, pageSize, onPageChange } = props;\r\n  // console.log(currentPage);\r\n  const pagesCount = Math.ceil(itemsCount / pageSize);\r\n  if (pagesCount === 1) return null;\r\n  const pages = _.range(1, pagesCount + 1);\r\n\r\n  return (\r\n    <nav>\r\n      <ul className=\"pagination\">\r\n        {pages.map((page) => (\r\n          <li\r\n            key={page}\r\n            className={page === currentPage ? \"page-item active\" : \"page-item\"}\r\n          >\r\n            <a className=\"page-link\" onClick={() => onPageChange(page)}>\r\n              {page}\r\n            </a>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </nav>\r\n  );\r\n};\r\n\r\nPagination.propTypes = {\r\n  itemsCount: PropType.number.isRequired,\r\n  currentPage: PropType.number.isRequired,\r\n  pageSize: PropType.number.isRequired,\r\n  onPageChange: PropType.func.isRequired,\r\n};\r\n\r\nexport default Pagination;\r\n","import _ from \"lodash\";\r\nexport function paginate(items, pageNumber, pageSize) {\r\n  console.log(items);\r\n  const startIndex = (pageNumber - 1) * pageSize;\r\n  return _(items).slice(startIndex).take(pageSize).value();\r\n}\r\n","import React from \"react\";\r\nconst ListGroup = (props) => {\r\n  const {\r\n    items,\r\n    valueProperty,\r\n    textProperty,\r\n    onItemSelect,\r\n    selectedItem,\r\n  } = props;\r\n  return (\r\n    <ul className=\"list-group\">\r\n      {items.map((item) => (\r\n        <li\r\n          onClick={() => onItemSelect(item)}\r\n          key={item[valueProperty]}\r\n          className={\r\n            item === selectedItem ? \"list-group-item active\" : \"list-group-item\"\r\n          }\r\n        >\r\n          {item[textProperty]}\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nListGroup.defaultProps = {\r\n  textProperty: \"name\",\r\n  valueProperty: \"_id\",\r\n};\r\n\r\nexport default ListGroup;\r\n","import React from \"react\";\n\nconst SearchBox = ({ value, onChange }) => {\n  return (\n    <input\n      type=\"text\"\n      name=\"query\"\n      className=\"form-control my-3\"\n      placeholder=\"Search...\"\n      value={value}\n      onChange={e => onChange(e.currentTarget.value)}\n    />\n  );\n};\n\nexport default SearchBox;\n","import React, { Component } from \"react\";\r\nimport { getMovies } from \"../services/fakeMovieService\";\r\nimport MoviesTable from \"./moviesTable\";\r\nimport Pagination from \"./common/pagination\";\r\nimport { paginate } from \"../utils/paginate\";\r\nimport ListGroup from \"./common/listGroup\";\r\nimport { getGenres } from \"../services/fakeGenreService\";\r\nimport _ from \"lodash\";\r\nimport { render } from \"@testing-library/react\";\r\nimport Like from \"./common/like\";\r\nimport { Link } from \"react-router-dom\";\r\nimport SearchBox from \"./searchBox\";\r\n\r\nclass Movies extends Component {\r\n  state = {\r\n    movies: [],\r\n    genres: [],\r\n    pageSize: 4,\r\n    currentPage: 1,\r\n    searchQuery: \"\",\r\n    selectedGenre: null,\r\n    sortColumn: { path: \"title\", order: \"asc\" },\r\n  };\r\n\r\n  componentDidMount() {\r\n    const genres = [{ _id: \"\", name: \"All Genre\" }, ...getGenres()];\r\n\r\n    this.setState({ movies: getMovies(), genres: genres });\r\n    console.log(this.state.movies, \"cdm\");\r\n  }\r\n\r\n  handleLike = (movie) => {\r\n    const movies = [...this.state.movies];\r\n    const index = movies.indexOf(movie);\r\n    movies[index] = { ...movies[index] };\r\n    movies[index].liked = !movies[index].liked;\r\n    this.setState({ movies });\r\n\r\n    //console.log(\"liked\", movie);\r\n  };\r\n  handleDelete = (movie) => {\r\n    const movies = this.state.movies.filter((m) => m._id !== movie._id);\r\n    this.setState({ movies: movies });\r\n  };\r\n\r\n  handlePageChange = (page) => {\r\n    this.setState({ currentPage: page });\r\n  };\r\n\r\n  handleGenreSelect = (genre) => {\r\n    this.setState({ selectedGenre: genre, searchQuery: \"\", currentPage: 1 });\r\n  };\r\n  handleSort = (sortColumn) => {\r\n    this.setState({ sortColumn });\r\n  };\r\n\r\n  getPageData = () => {\r\n    const {\r\n      pageSize,\r\n      currentPage,\r\n      selectedGenre,\r\n      searchQuery,\r\n      movies: allMovies,\r\n      sortColumn,\r\n    } = this.state;\r\n\r\n    let filtered = allMovies;\r\n\r\n    if (searchQuery)\r\n      filtered = allMovies.filter((m) =>\r\n        m.title.toLowerCase().startsWith(searchQuery.toLowerCase())\r\n      );\r\n    else if (selectedGenre && selectedGenre._id)\r\n      filtered = allMovies.filter((m) => m.genre._id === selectedGenre._id);\r\n\r\n    const sorted = _.orderBy(filtered, [sortColumn.path], [sortColumn.order]);\r\n\r\n    const movies = paginate(sorted, currentPage, pageSize);\r\n    console.log(\"page data\");\r\n    return { totalCount: filtered.length, data: movies };\r\n  };\r\n\r\n  handleSearch = (query) => {\r\n    this.setState({ searchQuery: query, selectedGenre: null, currentPage: 1 });\r\n  };\r\n\r\n  render() {\r\n    console.log(\"render\");\r\n    const { length: count } = this.state.movies;\r\n    const { pageSize, currentPage, sortColumn, searchQuery } = this.state;\r\n    if (count === 0) return <p>There are no movies in the database.</p>;\r\n\r\n    const { totalCount, data: movies } = this.getPageData();\r\n\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-3\">\r\n          <ListGroup\r\n            items={this.state.genres}\r\n            selectedItem={this.state.selectedGenre}\r\n            onItemSelect={this.handleGenreSelect}\r\n          />\r\n        </div>\r\n        <div className=\"col\">\r\n          <Link\r\n            to=\"/Movies/new\"\r\n            className=\"btn btn-primary\"\r\n            style={{ marginBottom: 20 }}\r\n          >\r\n            New Movie\r\n          </Link>\r\n\r\n          <p> Showing {totalCount} movies in the database.</p>\r\n          <SearchBox\r\n            value={searchQuery}\r\n            onChange={this.handleSearch}\r\n          ></SearchBox>\r\n          <MoviesTable\r\n            movies={movies}\r\n            sortColumn={sortColumn}\r\n            onLike={this.handleLike}\r\n            onDelete={this.handleDelete}\r\n            onSort={this.handleSort}\r\n          />\r\n          <Pagination\r\n            itemsCount={totalCount}\r\n            pageSize={pageSize}\r\n            currentPage={currentPage}\r\n            onPageChange={this.handlePageChange}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Movies;\r\n","import React, { Component } from \"react\";\r\nclass Rentals extends Component {\r\n  state = {};\r\n  render() {\r\n    return <h1>Rental</h1>;\r\n  }\r\n}\r\n\r\nexport default Rentals;\r\n","import React from \"react\";\r\nconst Customers = () => {\r\n  return <h1>Customer</h1>;\r\n};\r\n\r\nexport default Customers;\r\n","import React, { Component } from \"react\";\r\nclass NotFound extends Component {\r\n  state = {};\r\n  render() {\r\n    return <h1>notfound</h1>;\r\n  }\r\n}\r\n\r\nexport default NotFound;\r\n","import React from \"react\";\r\n// import Rentals from \"./rentals\";\r\n// import Movies from \"./movies\";\r\n// import Customers from \"./customers\";\r\nimport { Link, NavLink } from \"react-router-dom\";\r\n// import Register from \"./register\";\r\n\r\nconst NavBar = () => {\r\n  return (\r\n    <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n      <div className=\"container-fluid\">\r\n        <Link className=\"navbar-brand\" to=\"/\">\r\n          Vidly\r\n        </Link>\r\n        <button\r\n          className=\"navbar-toggler\"\r\n          type=\"button\"\r\n          data-bs-toggle=\"collapse\"\r\n          data-bs-target=\"#navbarNavAltMarkup\"\r\n          aria-controls=\"navbarNavAltMarkup\"\r\n          aria-expanded=\"false\"\r\n          aria-label=\"Toggle navigation\"\r\n        >\r\n          <span className=\"navbar-toggler-icon\"></span>\r\n        </button>\r\n        <div className=\"collapse navbar-collapse\" id=\"navbarNavAltMarkup\">\r\n          <div className=\"navbar-nav\">\r\n            <NavLink className=\"nav-link\" aria-current=\"page\" to=\"/movies\">\r\n              Movies\r\n            </NavLink>\r\n            <NavLink className=\"nav-link\" to=\"/customers\">\r\n              Customers\r\n            </NavLink>\r\n            <NavLink className=\"nav-link\" to=\"/rentals\">\r\n              Rentals\r\n            </NavLink>\r\n            <NavLink className=\"nav-link\" to=\"/login\">\r\n              LoginForm\r\n            </NavLink>\r\n            <NavLink className=\"nav-link\" to=\"/register\">\r\n              Register\r\n            </NavLink>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default NavBar;\r\n","import React from \"react\";\r\n\r\nconst Input = ({ name, label, error, ...rest }) => {\r\n  return (\r\n    <div className=\"form-group\">\r\n      <label htmlFor={name}>{label}</label>\r\n      <input {...rest} id={name} name={name} className=\"form-control\" />\r\n      {error && <div className=\"alert alert-danger\">{error}</div>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Input;\r\n","import React from \"react\";\n\nconst Select = ({ name, label, options, error, ...rest }) => {\n  return (\n    <div className=\"form-group\">\n      <label htmlFor={name}>{label}</label>\n      <select name={name} id={name} {...rest} className=\"form-control\">\n        <option value=\"\" />\n        {options.map(option => (\n          <option key={option._id} value={option._id}>\n            {option.name}\n          </option>\n        ))}\n      </select>\n      {error && <div className=\"alert alert-danger\">{error}</div>}\n    </div>\n  );\n};\n\nexport default Select;\n","import React, { Component } from \"react\";\r\nimport Joi from \"joi-browser\";\r\nimport Input from \"./input\";\r\nimport Select from \"./select\";\r\nclass Form extends Component {\r\n  state = {\r\n    data: {},\r\n    errors: {},\r\n  };\r\n\r\n  validateProperty = ({ name, value }) => {\r\n    const obj = { [name]: value };\r\n    const schema = { [name]: this.schema[name] };\r\n    const { error } = Joi.validate(obj, schema);\r\n    return error ? error.details[0].message : null;\r\n  };\r\n\r\n  validate = () => {\r\n    const options = { abortEarly: false };\r\n    const { error } = Joi.validate(this.state.data, this.schema, options);\r\n    if (!error) return null;\r\n    const errors = {};\r\n    for (let item of error.details) errors[item.path[0]] = item.message;\r\n    return errors;\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    const errors = this.validate();\r\n    this.setState({ errors: errors || {} });\r\n    if (errors) return;\r\n\r\n    this.doSubmit();\r\n  };\r\n\r\n  handleChange = ({ currentTarget: input }) => {\r\n    const errors = { ...this.state.errors };\r\n    const errorMessage = this.validateProperty(input);\r\n    if (errorMessage) errors[input.name] = errorMessage;\r\n    else delete errors[input.name];\r\n\r\n    const data = { ...this.state.data };\r\n    data[input.name] = input.value;\r\n    this.setState({ data, errors });\r\n  };\r\n\r\n  renderButton(label) {\r\n    return (\r\n      <button disabled={this.validate()} className=\"btn btn-primary\">\r\n        {label}\r\n      </button>\r\n    );\r\n  }\r\n\r\n  renderInput(name, label, type = \"text\") {\r\n    const { data, errors } = this.state;\r\n    return (\r\n      <Input\r\n        type={type}\r\n        name={name}\r\n        value={data[name]}\r\n        label={label}\r\n        onChange={this.handleChange}\r\n        error={errors[name]}\r\n      ></Input>\r\n    );\r\n  }\r\n  renderSelect(name, label, options) {\r\n    const { data, errors } = this.state;\r\n    return (\r\n      <Select\r\n        name={name}\r\n        value={data[name]}\r\n        label={label}\r\n        options={options}\r\n        onChange={this.handleChange}\r\n        error={errors[name]}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default Form;\r\n","import React from \"react\";\r\nimport Joi from \"joi-browser\";\r\nimport Form from \"./common/form\";\r\nimport { getMovies, saveMovie } from \"../services/fakeMovieService\";\r\nimport { getGenres } from \"../services/fakeGenreService\";\r\nimport { genres } from \"./../services/fakeGenreService\";\r\nimport { Component } from \"react\";\r\n\r\nclass MovieForm extends Form {\r\n  state = {\r\n    data: {\r\n      title: \"\",\r\n      genreId: \"\",\r\n      numberInStock: \"\",\r\n      dailyRentalRate: \"\",\r\n    },\r\n    genres: [],\r\n    errors: {},\r\n  };\r\n\r\n  schema = {\r\n    _id: Joi.string(),\r\n    title: Joi.string().required().label(\"Title\"),\r\n    genreId: Joi.string().required().label(\"Genre\"),\r\n    numberInStock: Joi.number()\r\n      .required()\r\n      .min(0)\r\n      .max(100)\r\n      .label(\"Number in Stock\"),\r\n    dailyRentalRate: Joi.number()\r\n      .required()\r\n      .min(0)\r\n      .max(100)\r\n      .label(\"Daily Rental Rate\"),\r\n  };\r\n\r\n  componentDidMount() {\r\n    const genres = getGenres();\r\n    this.setState({ genres });\r\n\r\n    const movieId = this.props.match.params.id;\r\n    if (movieId === \"new\") return;\r\n\r\n    const movie = getMovies(movieId);\r\n    if (!movie) return this.props.history.replace(\"/not-found\");\r\n\r\n    this.setState({ data: this.mapToViewModel(movie) });\r\n  }\r\n  mapToViewModel(movie) {\r\n    return {\r\n      _id: movie._id,\r\n      title: movie.title,\r\n      genreId: movie.genre._id,\r\n      numberInStock: movie.numberInStock,\r\n      dailyRentalRate: movie.dailyRentalRate,\r\n    };\r\n  }\r\n  doSubmit = () => {\r\n    saveMovie(this.state.data);\r\n    this.props.history.push(\"/movies\");\r\n  };\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h1>Movie Form</h1>\r\n        <form onSubmit={this.handleSubmit}>\r\n          {this.renderInput(\"title\", \"Title\")}\r\n          {this.renderSelect(\"genreId\", \"Genre\", this.state.genres)}\r\n          {this.renderInput(\"numberInStock\", \"number In Stock\", \"number\")}\r\n          {this.renderInput(\"dailyRentalRate\", \"Rate\")}\r\n          {this.renderButton(\"save\")}\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MovieForm;\r\n","import React, { Component } from \"react\";\r\nimport Joi from \"joi-browser\";\r\nimport Form from \"./common/form\";\r\n\r\nclass LoginForm extends Form {\r\n  state = {\r\n    data: {\r\n      username: \"\",\r\n      password: \"\",\r\n    },\r\n    errors: {},\r\n  };\r\n\r\n  schema = {\r\n    username: Joi.string().required().label(\"Username\"),\r\n    password: Joi.string().required().label(\"Password\"),\r\n  };\r\n\r\n  doSubmit = () => {\r\n    //call the srver\r\n    console.log(\"Submitted\");\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h1>Login</h1>\r\n        <form onSubmit={this.handleSubmit}>\r\n          {this.renderInput(\"username\", \"Username\")}\r\n          {this.renderInput(\"password\", \"Password\", \"password\")}\r\n          {this.renderButton(\"Login\")}\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LoginForm;\r\n","import React, { Component } from \"react\";\r\nimport Joi from \"joi-browser\";\r\nimport Form from \"./common/form\";\r\nclass Register extends Form {\r\n  state = {\r\n    data: { username: \"\", password: \"\", name: \"\" },\r\n    errors: {},\r\n  };\r\n  schema = {\r\n    username: Joi.string().required().email().label(\"Username\"),\r\n    password: Joi.string().required().min(5).label(\"Password\"),\r\n    name: Joi.string().required().label(\"Name\"),\r\n  };\r\n\r\n  doSubmit = () => {\r\n    //call the srver\r\n    console.log(\"Registered\");\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h1>Register</h1>\r\n        <form onSubmit={this.handleSubmit}>\r\n          {this.renderInput(\"username\", \"Username\")}\r\n          {this.renderInput(\"password\", \"Password\", \"password\")}\r\n          {this.renderInput(\"name\", \"Name\")}\r\n          {this.renderButton(\"Register\")}\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Register;\r\n","import \"./App.css\";\nimport React, { Component } from \"react\";\nimport Movies from \"./compontents/movies\";\nimport { Route, Redirect, Switch } from \"react-router-dom\";\nimport Rentals from \"./compontents/rentals\";\nimport Customers from \"./compontents/customers\";\nimport NotFound from \"./compontents/notFound\";\nimport NavBar from \"./compontents/navBar\";\nimport MovieForm from \"./compontents/movieForm\";\nimport LoginForm from \"./compontents/loginForm\";\nimport Register from \"./compontents/register\";\n\nclass App extends Component {\n  render() {\n    return (\n      <React.Fragment>\n        <NavBar />\n        <main className=\"container\">\n          <Switch>\n            <Route path=\"/movies/:id\" component={MovieForm}></Route>\n            <Route path=\"/movies\" component={Movies}></Route>\n            <Route path=\"/customers\" component={Customers}></Route>\n            <Route path=\"/rentals\" component={Rentals}></Route>\n            <Route path=\"/not-found\" component={NotFound}></Route>\n            <Route path=\"/login\" component={LoginForm}></Route>\n            <Route path=\"/register\" component={Register}></Route>\n            <Redirect from=\"/\" exact to=\"movies\" />\n            <Redirect to=\"/not-found\" />\n          </Switch>\n        </main>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"font-awesome/css/font-awesome.css\";\nimport { BrowserRouter } from \"react-router-dom\";\nconsole.log(\"myproject\", process.env.REACT_APP_NAME);\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}